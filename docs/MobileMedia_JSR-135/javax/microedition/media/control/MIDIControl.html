<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_05) on Tue May 23 10:55:39 EEST 2006 -->
<TITLE>
MIDIControl (JSR-135)
</TITLE>

<META NAME="keywords" CONTENT="javax.microedition.media.control.MIDIControl interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="MIDIControl (JSR-135)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
MMAPI 1.2</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../javax/microedition/media/control/MetaDataControl.html" title="interface in javax.microedition.media.control"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../javax/microedition/media/control/PitchControl.html" title="interface in javax.microedition.media.control"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?javax/microedition/media/control/MIDIControl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MIDIControl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.microedition.media.control</FONT>
<BR>
Interface MIDIControl</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../../javax/microedition/media/Control.html" title="interface in javax.microedition.media">Control</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>MIDIControl</B><DT>extends <A HREF="../../../../javax/microedition/media/Control.html" title="interface in javax.microedition.media">Control</A></DL>
</PRE>

<P>
<code>MIDIControl</code> provides access to MIDI rendering
 and transmitting devices.<p>

 Typical devices that are controlled with <code>MIDIControl</code>
 are internal synthesizers (software/hardware) or external
 hardware ports. Devices are virtual, i.e. even if there is only
 one physical synthesizer, all instances of <code>MIDIControl</code> seem
 to operate on its own synthesizer.<p>

 General functionality of this control is:
 <ol>
  <li>Querying current state of the device:
  <ul>
   <li>The programs that are currently assigned to each of the 16 channels</li>
   <li>Volume of each channel</li>
  </ul></li>
  <li>Querying the banks of the synthesizer:
  <ul>
   <li>Get a list of internal sound banks</li>
   <li>Get a list of custom sound banks</li>
   <li>Get the list of programs of a sound bank</li>
   <li>Get the name of a specific program</li>
  </ul></li>
  <li>Set the volume assigned to a channel</li>
  <li>Set the bank/program assigned to a channel</li>
  <li>Send short MIDI messages to the device</li>
  <li>Send long MIDI messages (system exclusive)</li>
 </ol>

 In Java Sound terms, <code>MIDIControl</code> combines
 methods and concepts of the interfaces Transmitter,
 Receiver, Synthesizer, MidiChannel, Soundbank, and Patch.<p>

 In this context, the following naming conventions are used:
 <ul>
  <li>A <i>program</i> refers to a single instrument. This is
  also known as a patch.</li>
  <li>A <i>bank</i> is short for sound bank. It contains up
  to 128 programs, numbered in the range from 0..127.</li>
  <li>An <i>internal bank</i> is provided by the software
  implementation or the hardware of the device.</li>
  <li>A <i>custom bank</i> is installed by an application,
  e.g. by loading an XMF meta file with an embedded bank.</li>
 </ul>
 <p>
 The conception of <code>MIDIControl</code> is based on scope and
 abstraction level:
 <ul>
  <li><code>MIDIControl</code> has methods that are specific
  to the device or renderer, and do not directly relate to a specific
  MIDI file or sequence to be played. However, as devices are virtual,
  MIDIControl's methods only operate on this virtual device.
  On the other hand, it is also
  possible to get an instance of <code>MIDIControl</code>
  without providing a sequence or MIDI file; this is done by
  specifying a magic Locator:<br>
  <br><code>
  &nbsp;&nbsp;try{
  <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Player
    p = Manager.createPlayer(Manager.MIDI_DEVICE_LOCATOR);
  <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MIDIControl
    synth = (MIDIControl)p.getControls("javax.microedition.media.control.MIDIControl");
  <br>&nbsp;&nbsp;} catch (MediaException e) {
  <br>&nbsp;&nbsp;}
  </code></li>

  <li><code>MIDIControl</code>'s methods can be considered
  advanced, low level functionality. This has 2 implications:
  <ol>
   <li><code>MIDIControl</code> is optional, i.e. no Player
   instance is required to provide an implementation of
   it</li>
   <li>Basic media or MIDI player applications will not need
   <code>MIDIControl</code>; <A HREF="../../../../javax/microedition/media/control/VolumeControl.html" title="interface in javax.microedition.media.control"><CODE>VolumeControl</CODE></A>,
   <A HREF="../../../../javax/microedition/media/control/TempoControl.html" title="interface in javax.microedition.media.control"><CODE>TempoControl</CODE></A>, and <A HREF="../../../../javax/microedition/media/control/PitchControl.html" title="interface in javax.microedition.media.control"><CODE>PitchControl</CODE></A>
   are sufficient for basic needs.
   </li>
  </ol></li>
 </ul>
 <p>
 A useful function is &quot;Panic&quot;: immediately turn off all
 sounds and notes. It can be implemented using the following code fragment:<br>
 <code>
 &nbsp;&nbsp;int CONTROL_ALL_SOUND_OFF = 0x78;<br>
 &nbsp;&nbsp;for (int channel = 0; channel < 16; channel++) {<br>
 &nbsp;&nbsp;&nbsp;&nbsp;shortMidiEvent(CONTROL_CHANGE | channel, CONTROL_ALL_SOUND_OFF, 0);<br>
 &nbsp;&nbsp;}<br>
 </code>
 <p>
 The implementation need not support the various query methods.
 This is a technical limitation, as the MIDI standard does not
 provide a standardized means to query the current program or 
 the installed
 soundbanks. This especially applies to external MIDI ports.
 Optional methods must not be called if <A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported</CODE></A>
 returns false.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/Player.html" title="interface in javax.microedition.media"><CODE>Player</CODE></A>, 
<A HREF="../../../../javax/microedition/media/control/RateControl.html" title="interface in javax.microedition.media.control"><CODE>RateControl</CODE></A>, 
<A HREF="../../../../javax/microedition/media/control/TempoControl.html" title="interface in javax.microedition.media.control"><CODE>TempoControl</CODE></A>, 
<A HREF="../../../../javax/microedition/media/control/PitchControl.html" title="interface in javax.microedition.media.control"><CODE>PitchControl</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#CONTROL_CHANGE">CONTROL_CHANGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Command value for Control Change message (0xB0, or 176).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#NOTE_ON">NOTE_ON</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Command value for Note On message (0x90, or 144).</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getBankList(boolean)">getBankList</A></B>(boolean&nbsp;custom)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns list of installed banks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getChannelVolume(int)">getChannelVolume</A></B>(int&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get volume for the given channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getKeyName(int, int, int)">getKeyName</A></B>(int&nbsp;bank,
           int&nbsp;prog,
           int&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given bank, program and key, get name of key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgram(int)">getProgram</A></B>(int&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns program assigned to channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgramList(int)">getProgramList</A></B>(int&nbsp;bank)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given bank, get list of program numbers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgramName(int, int)">getProgramName</A></B>(int&nbsp;bank,
               int&nbsp;prog)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given bank and program, get name of program.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()">isBankQuerySupported</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether banks of the synthesizer can be queried.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#longMidiEvent(byte[], int, int)">longMidiEvent</A></B>(byte[]&nbsp;data,
              int&nbsp;offset,
              int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a long MIDI event to the device, typically a system exclusive message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#setChannelVolume(int, int)">setChannelVolume</A></B>(int&nbsp;channel,
                 int&nbsp;volume)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set volume for the given channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#setProgram(int, int, int)">setProgram</A></B>(int&nbsp;channel,
           int&nbsp;bank,
           int&nbsp;program)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set program of a channel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#shortMidiEvent(int, int, int)">shortMidiEvent</A></B>(int&nbsp;type,
               int&nbsp;data1,
               int&nbsp;data2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a short MIDI event to the device.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="NOTE_ON"><!-- --></A><H3>
NOTE_ON</H3>
<PRE>
static final int <B>NOTE_ON</B></PRE>
<DL>
<DD>Command value for Note On message (0x90, or 144). 
 To turn a note off, send a NOTE_ON message with 0 
 velocity. Alternatively, a Note Off message (0x80) 
 can be sent.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#shortMidiEvent(int, int, int)"><CODE>shortMidiEvent(int, int, int)</CODE></A>, 
<A HREF="../../../../constant-values.html#javax.microedition.media.control.MIDIControl.NOTE_ON">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="CONTROL_CHANGE"><!-- --></A><H3>
CONTROL_CHANGE</H3>
<PRE>
static final int <B>CONTROL_CHANGE</B></PRE>
<DL>
<DD>Command value for Control Change message (0xB0, or 176).
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#shortMidiEvent(int, int, int)"><CODE>shortMidiEvent(int, int, int)</CODE></A>, 
<A HREF="../../../../constant-values.html#javax.microedition.media.control.MIDIControl.CONTROL_CHANGE">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isBankQuerySupported()"><!-- --></A><H3>
isBankQuerySupported</H3>
<PRE>
boolean <B>isBankQuerySupported</B>()</PRE>
<DL>
<DD>Returns whether banks of the synthesizer can be queried.
 <p>
 If this functions returns true,
 then the following methods can be used to query banks:
 <ul>
 <li><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgram(int)"><CODE>getProgram(int)</CODE></A></li>
 <li><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getBankList(boolean)"><CODE>getBankList(boolean)</CODE></A></li>
 <li><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgramList(int)"><CODE>getProgramList(int)</CODE></A></li>
 <li><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgramName(int, int)"><CODE>getProgramName(int, int)</CODE></A></li>
 <li><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getKeyName(int, int, int)"><CODE>getKeyName(int, int, int)</CODE></A></li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if this device supports querying of banks</DL>
</DD>
</DL>
<HR>

<A NAME="getProgram(int)"><!-- --></A><H3>
getProgram</H3>
<PRE>
int[] <B>getProgram</B>(int&nbsp;channel)
                 throws <A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></PRE>
<DL>
<DD>Returns program assigned to channel. It represents the current
 state of the channel. During playback of a MIDI file, the program
 may change due to program change events in the MIDI file.<p>
 To set a program for a channel,
 use setProgram(int, int, int).<p>

 The returned array is represented by an array {bank,program}.<p>
 If the device has not been initialized with a MIDI file, or the MIDI file
 does not contain a program change for this channel, an implementation
 specific default value is returned.<p>

 As there is no MIDI equivalent to this method, this method is 
 optional, indicated by <A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported</CODE></A>.
 If it returns false, this function is not supported and throws an exception.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - 0-15
<DT><B>Returns:</B><DD>program assigned to channel, represented by array {bank,program}.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if <code>channel</code> 
 is out of range.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.
<DD><CODE><A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></CODE> - Thrown if querying of banks is not supported.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported()</CODE></A>, 
<A HREF="../../../../javax/microedition/media/control/MIDIControl.html#setProgram(int, int, int)"><CODE>setProgram(int, int, int)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getChannelVolume(int)"><!-- --></A><H3>
getChannelVolume</H3>
<PRE>
int <B>getChannelVolume</B>(int&nbsp;channel)</PRE>
<DL>
<DD>Get volume for the given channel. The return value is
 independent of the master volume, which is set and retrieved
 with <A HREF="../../../../javax/microedition/media/control/VolumeControl.html" title="interface in javax.microedition.media.control"><CODE>VolumeControl</CODE></A>.<p>

 As there is no MIDI equivalent to this method, the implementation
 may not always know the current volume for a given channel. In
 this case the return value is -1.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - 0-15
<DT><B>Returns:</B><DD>channel volume, 0-127, or -1 if not known
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if <code>channel</code> 
 is out of range.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#setChannelVolume(int, int)"><CODE>setChannelVolume(int, int)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setProgram(int, int, int)"><!-- --></A><H3>
setProgram</H3>
<PRE>
void <B>setProgram</B>(int&nbsp;channel,
                int&nbsp;bank,
                int&nbsp;program)</PRE>
<DL>
<DD>Set program of a channel. This sets the current program for the
 channel and may be overwritten during playback by events in a MIDI sequence.<p>
 It is a high level convenience function. Internally, these method calls are
 executed:<p>
 <code>
 &nbsp;&nbsp;shortMidiEvent(CONTROL_CHANGE | channel, CONTROL_BANK_CHANGE_MSB, bank >> 7);<br>
 &nbsp;&nbsp;shortMidiEvent(CONTROL_CHANGE | channel, CONTROL_BANK_CHANGE_LSB, bank & 0x7F);<br>
 &nbsp;&nbsp;shortMidiEvent(PROGRAM_CHANGE | channel, program, 0);
 </code><p>

 In order to use the default bank (the initial bank), set the bank parameter to -1.
 <p>

 In order to set a program without explicitly setting the bank,
 use the following call: <p>
 <code>
 &nbsp;&nbsp;shortMidiEvent(PROGRAM_CHANGE | channel, program, 0);
 </code><p>

 In both examples, the following constants are used:<p>
 <code>
 &nbsp;&nbsp;int PROGRAM_CHANGE = 0xC0;<br>
 &nbsp;&nbsp;int CONTROL_BANK_CHANGE_MSB = 0x00;<br>
 &nbsp;&nbsp;int CONTROL_BANK_CHANGE_LSB = 0x20;
 </code><p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - 0-15<DD><CODE>bank</CODE> - 0-16383, or -1 for default bank<DD><CODE>program</CODE> - 0-127
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if any of the given 
 parameters is out of range.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getProgram(int)"><CODE>getProgram(int)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setChannelVolume(int, int)"><!-- --></A><H3>
setChannelVolume</H3>
<PRE>
void <B>setChannelVolume</B>(int&nbsp;channel,
                      int&nbsp;volume)</PRE>
<DL>
<DD>Set volume for the given channel. To mute, set to 0.
 This sets the current volume for the
 channel and may be overwritten during playback by events in a MIDI sequence.<p>
 It is a high level convenience function. Internally, the following command
 is executed:<p>
 <code>
 &nbsp;&nbsp;shortMidiEvent(CONTROL_CHANGE | channel, CONTROL_MAIN_VOLUME, 0);
 </code><p>
 where this constant is used:<p>
 <code>&nbsp;&nbsp;int CONTROL_MAIN_VOLUME = 0x07</code><p>

 The channel volume is independent of the master volume, which
 is accessed with <A HREF="../../../../javax/microedition/media/control/VolumeControl.html" title="interface in javax.microedition.media.control"><CODE>VolumeControl</CODE></A>.
 Setting the channel volume does not modify the value of the master
 volume - and vice versa: changing the value of master volume does not
 change any channel's volume value.<br>
 The synthesizer
 mixes the output of up to 16 channels, each channel with its own
 channel volume. The master volume then controls the volume of the mix.
 Consequently, the effective output volume of a channel is the product
 of master volume and channel volume. <p>

 Setting the channel volume does not generate a 
 <A HREF="../../../../javax/microedition/media/PlayerListener.html#VOLUME_CHANGED"><CODE>VOLUME_CHANGED event</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - 0-15<DD><CODE>volume</CODE> - 0-127
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if 
            <code>channel</code> or <code>volume</code> is out of range.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#getChannelVolume(int)"><CODE>getChannelVolume(int)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getBankList(boolean)"><!-- --></A><H3>
getBankList</H3>
<PRE>
int[] <B>getBankList</B>(boolean&nbsp;custom)
                  throws <A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></PRE>
<DL>
<DD>Returns list of installed banks.
 If the <code>custom</code> parameter is true, a list of custom banks is returned.
 Otherwise, a list of all banks (custom and internal) is returned.
 <p>
 As there is no MIDI equivalent to this method, this method is 
 optional, indicated by <A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported</CODE></A>.
 If it returns false, this function is not supported and throws an exception.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>custom</CODE> - if set to true, returns list of custom banks.
<DT><B>Returns:</B><DD>an array of all installed bank numbers.
         Each bank number is in the range of 0..16383
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></CODE> - if this device does not support retrieval of
            banks
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getProgramList(int)"><!-- --></A><H3>
getProgramList</H3>
<PRE>
int[] <B>getProgramList</B>(int&nbsp;bank)
                     throws <A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></PRE>
<DL>
<DD>Given bank, get list of program numbers. If and only if 
 this bank is not installed, an empty array is returned.<p>

 As there is no MIDI equivalent to this method, this method is 
 optional, indicated by <A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported</CODE></A>.
 If it returns false, this function is not supported and throws an exception.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bank</CODE> - 0..16383
<DT><B>Returns:</B><DD>an array of programs defined in the given bank.
         Each program number is from 0..127.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if <code>bank</code> 
            is out of range.
<DD><CODE><A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></CODE> - Thrown if the device does not support 
            retrieval of programs.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#setProgram(int, int, int)"><CODE>setProgram(int, int, int)</CODE></A>, 
<A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getProgramName(int, int)"><!-- --></A><H3>
getProgramName</H3>
<PRE>
java.lang.String <B>getProgramName</B>(int&nbsp;bank,
                                int&nbsp;prog)
                                throws <A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></PRE>
<DL>
<DD>Given bank and program, get name of program.
 For space-saving reasons, an implementation may return an empty string.
 <p>
 As there is no MIDI equivalent to this method, this method is 
 optional, indicated by <A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported</CODE></A>.
 If it returns false, this function is not supported and throws an exception.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bank</CODE> - 0-16383<DD><CODE>prog</CODE> - 0-127
<DT><B>Returns:</B><DD>name of the specified program, or empty string.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if <code>bank</code> 
            or <code>prog</code> is out of range.
<DD><CODE><A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></CODE> - Thrown if the bank or program is 
            not installed (internal or custom), or if this device does not 
            support retrieval of program names
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getKeyName(int, int, int)"><!-- --></A><H3>
getKeyName</H3>
<PRE>
java.lang.String <B>getKeyName</B>(int&nbsp;bank,
                            int&nbsp;prog,
                            int&nbsp;key)
                            throws <A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></PRE>
<DL>
<DD>Given bank, program and key, get name of key. 
 This method applies to key-mapped banks (i.e. percussive banks
 or effect banks) only.
 A return value of <code>null</code> means that the specified key 
 is not mapped to a sound. For melodic banks, 
 where each key (=note) produces the same sound at different pitch, this method 
 always returns <code>null</code>.
 For space-saving reasons, an implementation may return an empty string 
 instead of the key name. To find out which keys in a specific program
 are mapped to a sound, iterate through all keys (0-127) and compare
 the return value of <code>getKeyName</code> to non-<code>null</code>.
 <p>
 As there is no MIDI equivalent to this method, this method is 
 optional, indicated by <A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported</CODE></A>.
 If it returns false, this function is not supported and throws an exception.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bank</CODE> - 0-16383<DD><CODE>prog</CODE> - 0-127<DD><CODE>key</CODE> - 0-127
<DT><B>Returns:</B><DD>name of the specified key, empty string, or <code>null</code> if 
            the key is not mapped to a sound.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if <code>bank</code>, 
            <code>prog</code> or <code>key</code> is out of range.
<DD><CODE><A HREF="../../../../javax/microedition/media/MediaException.html" title="class in javax.microedition.media">MediaException</A></CODE> - Thrown if the bank or program is 
            not installed (internal or custom), or if this device does not 
            support retrieval of key names
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.<DT><B>See Also:</B><DD><A HREF="../../../../javax/microedition/media/control/MIDIControl.html#isBankQuerySupported()"><CODE>isBankQuerySupported()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="shortMidiEvent(int, int, int)"><!-- --></A><H3>
shortMidiEvent</H3>
<PRE>
void <B>shortMidiEvent</B>(int&nbsp;type,
                    int&nbsp;data1,
                    int&nbsp;data2)</PRE>
<DL>
<DD>Sends a short MIDI event to the device.
 Short MIDI events consist of 1, 2, or 3 unsigned bytes.
 For non-realtime events, the first byte is split up into
 status (upper nibble, 0x80-0xF0) and channel (0x00-0x0F).
 For example, to send a <code>Note On</code> event on a given channel,
 use this line:<p>
 <code>&nbsp;&nbsp;shortMidiEvent(NOTE_ON | channel, note, velocity);</code><p>
 For events with less than 3 bytes, set the remaining data bytes to 0.<p>

 There is no guarantee that a specific
 implementation of a MIDI device supports all event types.
 Also, the MIDI protocol does not implement flow control and it is not
 guaranteed that an event reaches the destination.
 In both these cases, this method fails silently. <p>

 Static error checking is performed on the passed parameters. They have to
 specify a valid, complete MIDI event. Events with <code>type</code> &lt; 0x80 are
 not valid MIDI events (-&gt; running status). When an invalid event
 is encountered, an IllegalArgumentException is thrown.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - 0x80..0xFF, excluding 0xF0 and 0xF7, which are reserved for system exclusive<DD><CODE>data1</CODE> - for 2 and 3-byte events: first data byte, 0..127<DD><CODE>data2</CODE> - for 3-byte events: second data byte, 0..127
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if one of the parameters 
            is out of range.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.</DL>
</DD>
</DL>
<HR>

<A NAME="longMidiEvent(byte[], int, int)"><!-- --></A><H3>
longMidiEvent</H3>
<PRE>
int <B>longMidiEvent</B>(byte[]&nbsp;data,
                  int&nbsp;offset,
                  int&nbsp;length)</PRE>
<DL>
<DD>Sends a long MIDI event to the device, typically a system exclusive message.
 This method passes the data directly to the receiving device. 
 The data array's contents are not checked for validity.<p>
 It is possible to send short events, or even a series of short events
 with this method.<p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - array of the bytes to send<DD><CODE>offset</CODE> - start offset in data array<DD><CODE>length</CODE> - number of bytes to be sent
<DT><B>Returns:</B><DD>the number of bytes actually sent to the device or
         -1 if an error occurred
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - Thrown if any one of the given 
            parameters is not valid.
<DD><CODE>java.lang.IllegalStateException</CODE> - Thrown if the player has not been prefetched.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
MMAPI 1.2</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../javax/microedition/media/control/MetaDataControl.html" title="interface in javax.microedition.media.control"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../javax/microedition/media/control/PitchControl.html" title="interface in javax.microedition.media.control"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?javax/microedition/media/control/MIDIControl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MIDIControl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2002-2006 Sun Microsystems, Inc.; Nokia Corporation. See the <a href=../../../../copyright.html>Copyright Notice and Specification License</a> for more details.
</BODY>
</HTML>

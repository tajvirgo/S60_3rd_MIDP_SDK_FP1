<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Nov 26 13:59:56 EET 2003 -->
<TITLE>
SipConnection (JSR180 SIP API for J2ME)
</TITLE>
<META NAME="keywords" CONTENT="javax.microedition.sip.SipConnection,SipConnection interface">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="SipConnection (JSR180 SIP API for J2ME)";
}
</SCRIPT>
<BODY BGCOLOR="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/microedition/sip/SipClientConnectionListener.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/microedition/sip/SipConnectionNotifier.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SipConnection.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.microedition.sip</FONT>
<BR>
Interface SipConnection</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD>javax.microedition.io.Connection</DD>
</DL>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../javax/microedition/sip/SipClientConnection.html">SipClientConnection</A>, <A HREF="../../../javax/microedition/sip/SipServerConnection.html">SipServerConnection</A></DD>
</DL>
<HR>
<DL>
<DT>public interface <B>SipConnection</B><DT>extends javax.microedition.io.Connection</DL>

<P>
<code>SipConnection</code> is the base interface for SIP connections. <code>SipConnection</code> 
 holds the common properties and methods for subinterfaces <code>SipClientConnection</code> 
 and <code>SipServerConnection</code>.
 <br>
 <h2>Integration to Generic Connection Framework</h2>
 <h3>Integration to <tt>javax.microedition.io.Connector</tt></h3>
 A new SIP connection is instantiated by a call to <code>Connector.open()</code>. 
 An application SHOULD call <code>close()</code> when it is finished with the connection.
 It should be noticed that the <code>Connector.open()</code> returns a 
 <em>client mode connection</em> (<code>SipClientConnection</code>) or 
 <em>server mode connection</em> (<code>SipConnectionNotifier</code>) 
 depending on the string (SIP URI) passed to the <code>Connector.open()</code>. 
 The SIP URI is specified in RFC3261 [1] and here it takes general form of:<br>
 <pre>
      <b><code>{scheme}:[{target}][{params}]</code></b></pre>
 where:
 <p>
 <ul>
 <li><b><code>scheme</code></b> is SIP scheme supported by the system <code>sip</code> or
 <code>sips</code></li>
 <li><b><code>target</code></b> is user network address in form of <code>{user_name}@{target_host}[:{port}]</code> or <code>{telephone_number}</code>, see examples below.
 <li><b><code>params</code></b> stands for additional SIP URI parameters like <code>;transport=udp</code>
 </ul>
 </p>
 <h4>Opening new client connection <tt>(SipClientConnection)</tt></h4>
 If the target host is included a, <code>SipClientConnection</code> will be returned.<br>
 Examples:
 <p>
 <pre>
 sip:bob@biloxi.com
 sip:alice@10.128.0.8:5060
 sips:alice@company.com:5060;transport=tcp
 sip:+358-555-1234567;postd=pp22@foo.com;user=phone
 </pre>
 </p>
 <h4>Opening new server connection <tt>(SipConnectionNotifier)</tt></h4>
 Three forms of SIP URIs are allowed where the target host is omitted:
 <p>
 <ul>
 <li><b><code>sip:nnnn</code></b>, returns <code>SipConnectionNotifier</code> 
 listening to incoming SIP requests on port number <code>nnnn</code>.
 <li><b><code>sip:</code></b>, returns <code>SipConnectionNotifier</code> 
 listening to incoming SIP requests on a port number allocated by the system.
 <li><b><code>sip:[nnnn];type="application/x-type"</code></b>, returns 
 <code>SipConnectionNotifier</code> 
 listening to incoming SIP requests that match to the MIME type "application/x-type" (specified in 
 the URI parameter <tt>type</tt>). Port number is optional. See <A HREF="#SIPID">SIP Identity</A> for more information about this option.
 </ul>
 </p>
 Examples of opening a SIP connection:
 <p>
 <pre>
 SipClientConnection scn = (SipClientConnection) Connector.open("sip:bob@biloxi.com");
 SipClientConnection scn = 
   (SipClientConnection) Connector.open("sips:alice@company.com:5060;transport=tcp");
 SipConnectionNotifier scn = (SipConnectionNotifier) Connector.open("sip:5060");
 SipConnectionNotifier scn = (SipConnectionNotifier) Connector.open("sips:5080");
 SipConnectionNotifier scn = (SipConnectionNotifier) Connector.open("sip:");   
 </pre>
 </p>
 The optional second parameter in <code>Connector.open()</code> specifies 
 the access mode. This is ignored in SIP API. This is because both connection modes:
 <em>client mode connection</em> and <em>server mode connection</em> can
 send and receive messages.
 <br><br>
 The optional third parameter is a boolean flag that indicates if the calling code
 can handle timeout exceptions. That parameter is also ignored by the SIP API.
 <br><br>
 The <code>Connector</code> convenience methods to gain access to a 
 specific input or output stream directly are not supported by the SIP API. The 
 implementations MUST throw <code>IOException</code> if these methods are 
 called with SIP URIs.
 <br><br>
 <A NAME=CONNECTOR_EXCEPTIONS</A>
 The <code>Connector.open()</code> method throws following Exceptions:
 <dl>
 <dt><code>IllegalArgumentException</code>
 <dd>- If a parameter is invalid.
 <dt><code>ConnectionNotFoundException</code>
 <dd>- If the requested connection cannot be created, or the 
     protocol type does not exist.
 <dt><code>IOException</code>
 <dd>- If some other kind of I/O error occurs. For example the port number
 for <em>server mode connection</em> is already reserved.
 <dt><code>SecurityException</code>
 <dd>- May be thrown if access to the protocol handler is prohibited.
 <dt><code>SipException</code>
 <dd>- TRANSACTION_UNAVAILABLE if the system can not open new SIP
 transactions. TRANSPORT_NOT_SUPPORTED if the requested transport is
 not supported. See above <tt>transport</tt> URI parameter.
 </dl>
 <h2><A NAME="APIID">Identification of the SIP API</A></h2>
 To enable applications to test for the presence of the SIP API and its 
 version during runtime, a system property is defined. Platforms where 
 this API is implemented according to this specification shall include 
 a system property with a key <code>"microedition.sip.version"</code>. When 
 <code>System.getProperty</code> is called with this key, 
 implementations conforming to this specification shall return the 
 version string <code>"1.0"</code>.
 <h2><A NAME="SIPID">SIP Identity</A></h2>
 SIP identity is a logical identity (address-of-record), a type of Uniform Resource Identifier (URI) 
 called a SIP URI. SIP identity is frequently thought of as the "public address" of the user.
 (see RFC 3261 [1], 6 Definitions, p.20)
 <br><br>
 A terminal that supports SIP is typically configured for one user at the time (SIP provider 
 settings). This means that the SIP system uses that address-of-record (URI) as the 
 identity when communicating to other entities. Now, it is very likely that there will 
 be several applications that wants to share the same SIP identity for example: audio/video, 
 instant message/presence and e.g. game applications. On the other hand, some applications
 can use their own SIP identity (for that particular service), which does not share the system 
 SIP properties. 
 <br><br>
 The issue falls to the decisions on how the SIP requests are routed to the User Agents 
 (applications). This functionality is specified in <A HREF="http://www.ietf.org/html.charters/sip-charter.html"> SIP Working Group</A> as callee's capabilities and caller's preferences. The implementations
 must follow the framework and parameters specified in the final specification of the SIP working group.
 <br><br>
 When sharing the same identity (address-of-record) the terminal
 has to know where the incoming request is routed. To do this it can use the MIME type tag
 carried in a special header (e.g. <tt>Accept-Contact</tt>). Each application is
 mapped to a certain MIME type. Java SIP API provides the way to utilize this functionality as is 
 specified below.
 <p>
 To allow the Java SIP API to share the system SIP identity or use application's own identity, 
 the following rules are defined when the SIP server connection is opened with 
 <tt>Connector.open()</tt>:
 <br><br>
 <table BORDER COLS=4 WIDTH="100%" >
 <tr>
 <td><tt> </tt></td>
 <td><b><u>Connector SIP URI</u></b></td>

 <td><b><u>SIP Identity</u></b></td>

 <td><b><u>Request routing</u></b></td>
 </tr>

 <tr>
 <td><b>1)</b></td>
 <td><tt>sip:5080[;type=<br>"application/x-game"]</tt></td>

 <td NOWRAP>- use dedicated port number <tt>5080</tt>
 <br>- use identity set by the application</td>

 <td>- route all incoming SIP requests on port 5080 to this <tt>SipConnectionNotifier</tt>.
       If the optional MIME type feature tag <tt>"application/x-game"</tt> is set, route
       only the requests with the matching tag.</td>
 </tr>
 
 <tr>
 <td><b>2)</b></td>
 <td><tt>sip:;type=<br>"application/x-game"</tt></td>

 <td>- share system SIP port
 <br>- share system SIP identity</td>

 <td>- route incoming SIP requests with MIME type feature tag
 <tt>"application/x-game"</tt> to this
 <tt>SipConnectionNotifier</tt></td>
 </tr>

 <tr>
 <td><b>3)</b></td>
 <td><tt>sip:</tt></td>
 
 <td>- use dedicated port selected by the system
 <br>- use identity set by the application</td>
 
 <td>- route all incoming SIP requests to the selected port to this <tt>SipConnectionNotifier</tt></td>
 </tr>
 </table>
 </p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../javax/microedition/sip/SipClientConnection.html"><CODE>SipClientConnection</CODE></A>, 
<A HREF="../../../javax/microedition/sip/SipServerConnection.html"><CODE>SipServerConnection</CODE></A>, 
<A HREF="../../../javax/microedition/sip/SipConnectionNotifier.html"><CODE>SipConnectionNotifier</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#addHeader(java.lang.String, java.lang.String)">addHeader</A></B>(java.lang.String&nbsp;name,
          java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a header to the SIP message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/microedition/sip/SipDialog.html">SipDialog</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getDialog()">getDialog</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current SIP dialog.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getHeader(java.lang.String)">getHeader</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the header field value of specified header type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getHeaders(java.lang.String)">getHeaders</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the header field value(s) of specified header type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getMethod()">getMethod</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the SIP method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getReasonPhrase()">getReasonPhrase</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets SIP response reason phrase.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getRequestURI()">getRequestURI</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets Request-URI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#getStatusCode()">getStatusCode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets SIP response status code.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.InputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#openContentInputStream()">openContentInputStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <tt>InputStream</tt> to read SIP message body content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.OutputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#openContentOutputStream()">openContentOutputStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <tt>OutputStream</tt> to fill the SIP message body content.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#removeHeader(java.lang.String)">removeHeader</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes header from the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#send()">send</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends the SIP message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sip/SipConnection.html#setHeader(java.lang.String, java.lang.String)">setHeader</A></B>(java.lang.String&nbsp;name,
          java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets header value in SIP message.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.microedition.io.Connection"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface javax.microedition.io.Connection</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>close</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="send()"><!-- --></A><H3>
send</H3>
<PRE>
public void <B>send</B>()
          throws java.io.IOException,
                 java.io.InterruptedIOException,
                 <A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></PRE>
<DL>
<DD>Sends the SIP message. Send must also close the <tt>OutputStream</tt> if it
 was opened.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the message could not be sent
          or because of network failure.
<DD><CODE>java.io.InterruptedIOException</CODE> - if a timeout occurs while
         either trying to send the message or if this <code>Connection</code>
         object is closed during this <tt>send</tt> operation
<DD><CODE><A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></CODE> - INVALID_STATE if the message
         can not be sent in this state. INVALID_MESSAGE there was an error
         in message format.</DL>
</DD>
</DL>
<HR>

<A NAME="setHeader(java.lang.String, java.lang.String)"><!-- --></A><H3>
setHeader</H3>
<PRE>
public void <B>setHeader</B>(java.lang.String&nbsp;name,
                      java.lang.String&nbsp;value)
               throws <A HREF="../../../javax/microedition/sip/SipException.html">SipException</A>,
                      java.lang.IllegalArgumentException</PRE>
<DL>
<DD>Sets header value in SIP message. If the header does not exist it will 
 be added to the message, otherwise the existing header is overwritten.
 If multiple header field values exist the topmost is overwritten. 
 The implementations MAY restrict the access to some headers according 
 to RFC 3261 [1].
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - name of the header, either in full or compact form see [1] p.32<DD><CODE>value</CODE> - the header value
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - MAY be thrown if the header or value 
 is invalid.
<DD><CODE><A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></CODE> - INVALID_STATE if header can not be set in this state. INVALID_OPERATION if the system does not allow to set this header.</DL>
</DD>
</DL>
<HR>

<A NAME="addHeader(java.lang.String, java.lang.String)"><!-- --></A><H3>
addHeader</H3>
<PRE>
public void <B>addHeader</B>(java.lang.String&nbsp;name,
                      java.lang.String&nbsp;value)
               throws <A HREF="../../../javax/microedition/sip/SipException.html">SipException</A>,
                      java.lang.IllegalArgumentException</PRE>
<DL>
<DD>Adds a header to the SIP message. 
 If multiple header field values exist 
 the header value is added topmost of this type of headers.
 The implementations MAY restrict the access to some headers 
 according to RFC 3261 [1].
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - name of the header, either in full or compact form see [1] p.32<DD><CODE>value</CODE> - the header value
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - MAY be thrown if the header or value 
 is invalid.
<DD><CODE><A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></CODE> - INVALID_STATE if header can not be added in this state. INVALID_OPERATION if the system does not allow to add this header.</DL>
</DD>
</DL>
<HR>

<A NAME="removeHeader(java.lang.String)"><!-- --></A><H3>
removeHeader</H3>
<PRE>
public void <B>removeHeader</B>(java.lang.String&nbsp;name)
                  throws <A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></PRE>
<DL>
<DD>Removes header from the message. If multiple header field values exist
 the topmost is removed. The implementations MAY restrict the access to 
 some headers according to RFC 3261 [1]. If the named header is not found
 this method does nothing.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - name of the header to be removed, either in full or compact form see [1] p.32
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></CODE> - INVALID_STATE if header can not be removed in this state. INVALID_OPERATION if the system does not allow to remove this header.</DL>
</DD>
</DL>
<HR>

<A NAME="getHeaders(java.lang.String)"><!-- --></A><H3>
getHeaders</H3>
<PRE>
public java.lang.String[] <B>getHeaders</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Gets the header field value(s) of specified header type.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - name of the header type, either in full or compact form see [1] p.32
<DT><B>Returns:</B><DD>array of header field values (topmost first), or <tt>null</tt> 
 if the current message does not have such a header or the header is
 for other reason not available (e.g. message not initialized).</DL>
</DD>
</DL>
<HR>

<A NAME="getHeader(java.lang.String)"><!-- --></A><H3>
getHeader</H3>
<PRE>
public java.lang.String <B>getHeader</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Gets the header field value of specified header type.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - name of the header type, either in full or compact form see [1] p.32
<DT><B>Returns:</B><DD>topmost header field value, or <tt>null</tt> 
 if the current message does not have such a header or the header is
 for other reason not available (e.g. message not initialized).</DL>
</DD>
</DL>
<HR>

<A NAME="getMethod()"><!-- --></A><H3>
getMethod</H3>
<PRE>
public java.lang.String <B>getMethod</B>()</PRE>
<DL>
<DD>Gets the SIP method. Applicable when a message has been
 initialized or received.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>SIP method name REGISTER, INVITE, NOTIFY, etc. Returns <tt>null</tt>
 if the method is not available.</DL>
</DD>
</DL>
<HR>

<A NAME="getRequestURI()"><!-- --></A><H3>
getRequestURI</H3>
<PRE>
public java.lang.String <B>getRequestURI</B>()</PRE>
<DL>
<DD>Gets Request-URI. Available when <tt>SipClientConnection</tt> is in 
 <em>Initialized</em> state or when <tt>SipServerConnection</tt> is in 
 <em>Request Received</em> state. Built from the original
 URI given in <tt>Connector.open()</tt>.
 See RFC 3261 p.35 (8.1.1.1 Request-URI)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Request-URI of the message. Returns <tt>null</tt>
 if the Request-URI is not available.</DL>
</DD>
</DL>
<HR>

<A NAME="getStatusCode()"><!-- --></A><H3>
getStatusCode</H3>
<PRE>
public int <B>getStatusCode</B>()</PRE>
<DL>
<DD>Gets SIP response status code. Available when <tt>SipClientConnection</tt> 
 is in <em>Proceeding</em> or <em>Completed</em> state or when 
 <tt>SipServerConnection</tt>
 is in <em>Initialized</em> state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>status code 1xx, 2xx, 3xx, 4xx, ... Returns 0 if the status code is not available.</DL>
</DD>
</DL>
<HR>

<A NAME="getReasonPhrase()"><!-- --></A><H3>
getReasonPhrase</H3>
<PRE>
public java.lang.String <B>getReasonPhrase</B>()</PRE>
<DL>
<DD>Gets SIP response reason phrase. Available when <tt>SipClientConnection</tt> 
 is in <em>Proceeding</em> or <em>Completed</em> state or when 
 <tt>SipServerConnection</tt> is in <em>Initialized</em> state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>reason phrase. Returns <tt>null</tt>
 if the reason phrase is not available.</DL>
</DD>
</DL>
<HR>

<A NAME="getDialog()"><!-- --></A><H3>
getDialog</H3>
<PRE>
public <A HREF="../../../javax/microedition/sip/SipDialog.html">SipDialog</A> <B>getDialog</B>()</PRE>
<DL>
<DD>Returns the current SIP dialog. This is available when the <tt>SipConnection</tt> belongs to a created <tt>SipDialog</tt> and the system has received (or sent) provisional (101-199) or final response (200).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><tt>SipDialog</tt> object if this connection belongs to a dialog, otherwise returns <tt>null</tt>.<DT><B>See Also:</B><DD><A HREF="../../../javax/microedition/sip/SipDialog.html"><CODE>SipDialog</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="openContentInputStream()"><!-- --></A><H3>
openContentInputStream</H3>
<PRE>
public java.io.InputStream <B>openContentInputStream</B>()
                                           throws java.io.IOException,
                                                  <A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></PRE>
<DL>
<DD>Returns <tt>InputStream</tt> to read SIP message body content.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>InputStream to read body content
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the <tt>InputStream</tt> can not be opened, because of an I/O error occurred.
<DD><CODE><A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></CODE> - INVALID_STATE the <tt>InputStream</tt> can not be opened in this state (e.g. no message received).</DL>
</DD>
</DL>
<HR>

<A NAME="openContentOutputStream()"><!-- --></A><H3>
openContentOutputStream</H3>
<PRE>
public java.io.OutputStream <B>openContentOutputStream</B>()
                                             throws java.io.IOException,
                                                    <A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></PRE>
<DL>
<DD>Returns <tt>OutputStream</tt> to fill the SIP message body content. 
 When calling <tt>close()</tt> on <tt>OutputStream</tt> the message
 will be sent to the network. So it is equivalent to call 
 <tt>send()</tt>. Again <tt>send()</tt> must not be called after closing
 the <tt>OutputStream</tt>, since it will throw Exception because of 
 calling the method in wrong state.
 <br> Before opening <tt>OutputStream</tt> the <tt>Content-Length</tt> 
 and <tt>Content-Type</tt> headers has to se set. If not
 <tt>SipException.UNKNOWN_LENGTH</tt> or 
 <tt>SipException.UNKNOWN_TYPE</tt> will be thrown respectively.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>OutputStream to write body content
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the <tt>OutputStream</tt> can not be opened, because of an I/O error occurred.
<DD><CODE><A HREF="../../../javax/microedition/sip/SipException.html">SipException</A></CODE> - INVALID_STATE the <tt>OutputStream</tt> can not be opened in this state (e.g. no message initialized). UNKNOWN_LENGTH <tt>Content-Length</tt> header not set. UNKNOWN_TYPE <tt>Content-Type</tt> header not set.<DT><B>See Also:</B><DD><A HREF="../../../javax/microedition/sip/SipConnection.html#send()"><CODE>send()</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/microedition/sip/SipClientConnectionListener.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/microedition/sip/SipConnectionNotifier.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SipConnection.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<font size=-1>Copyright &copy; 2003 Nokia Corporation. All Rights Reserved.<br/>  Java is a trademark of Sun Microsystems, Inc.
</BODY>
</HTML>
